<!DOCTYPE html>
	<html>
		<head>
			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
			<script src = "app.js"></script>
		</head>
		<body>
			<div ng-app="myApp" ng-controller = "myCtrl">
				<p>Today's welcome message is:</p>
				<!--h6>{{books}}</h6-->
			<div class = "tbl-header">
				<table align = "center" cellpadding="0" cellspacing="0" border="0">
					<thead>
						<tr>
							<th>Category</th>
							<th>Subcategory</th>
							<th>Title</th>
					</thead>
				</table>
			</div>
			<div class = "tbl-content">
				<tbody>
					<table align = "center" cellpadding="0" cellspacing="0" border="0">
						<tr ng-repeat = "book in books">
							<td>{{book.category}}</td>
							<td>{{book.subcategory}}</td>
							<td>{{book.title}}</td>
						</tr>
					</table>
				</tbody>
				<tbody>
					<table align = "center" cellpadding="0" cellspacing="0" border="0">
						<tr ng-repeat = "student in students">
							<td>{{student.client}}</td>
							<td>{{student.email}}</td>
							<td>{{student.grade}}</td>
						</tr>
					</table>
				</tbody>
				<tbody>
					<table align = "center" cellpadding="0" cellspacing="0" border="0">
						<tr ng-repeat = "record in records">
							<td>{{record.recordId}}</td>
							<td>{{record.bookId}}</td>
							<td>{{record.studentId}}</td>
						</tr>
					</table>
				</tbody>
			</div>

			</div>
			<script>
				var app = angular.module('myApp', []);
				app.controller('myCtrl', function($scope, $http) {
					$http.get("http://localhost:8080/books")
					.then(function(response) {
						$scope.books = response.data;
					});

					$http.get("http://localhost:8080/students")
					.then(function(response) {
						console.log(response.data);
						$scope.students = response.data;
					});

					$http.get("http://localhost:8080/records")
					.then(function(response) {
						console.log(response.data);
						$scope.records = response.data;
					});
				});
				
			</script>

		</body>
	</html>